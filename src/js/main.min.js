jQuery(document).ready(function(t){var a=!1,n=t("p#processing"),c=t("p#complete"),i=t("p#clean");function s(e="",a="notice-success"){t("#wpcontent").prepend('<div style="z-index: 9999; position: fixed; width: 82%" class="notice '+a+' is-dismissible single-cached"><p>'+e+'</p><button type="button" class="notice-dismiss"><span class="screen-reader-text">Dismiss this notice.</span></button></div>'),setTimeout(function(){t(".notice-dismiss").parent().fadeOut("slow",function(){t(this).remove()})},5e3),t(".notice-dismiss").click(function(e){t(this).parent().remove()})}function o(){t.ajax({type:"POST",url:cugz_ajax_var.ajax_url,data:{action:"cugz_callback",nonce:cugz_ajax_var.nonce,do:"check_status"},success:function(e){t(".cache-status").hide(),("preloaded"!==e||a?"empty"!==e||a?n:i:c).show()}})}cugz_ajax_var.is_settings_page&&(t("#datepicker").datepicker({dateFormat:"yy-mm-dd",onSelect:function(e){t(this).attr("value",e)}}),o(),setInterval(function(){o()},5e3)),t("#empty,#regen").click(function(e){e.preventDefault();e=t(this).attr("id");t(".cache-status").hide(),n.show(),!1===a?(a=!0,"regen"===e&&s("Cache is preloading. You may exit this page."),t.ajax({type:"POST",url:cugz_ajax_var.ajax_url,data:{action:"cugz_callback",nonce:cugz_ajax_var.nonce,do:e},success:function(e){a=!1,o()},error:function(){location.href=cugz_ajax_var.admin_url+cugz_ajax_var.options_page_url}})):s("Please wait for the current process to finish.","notice-warning")}),t(".cache-using-gzip-single-page").click(function(e){e.preventDefault(),$spinner=t('<span class="spinner is-active"></span>'),t(this).after($spinner),t.ajax({type:"POST",url:cugz_ajax_var.ajax_url,data:{action:"cugz_callback",nonce:cugz_ajax_var.nonce,do:"single",post_id:t(this).data("post-id")},success:function(e){s("Cached!"),$spinner.fadeOut("slow",function(){t(this).remove()})}})})});